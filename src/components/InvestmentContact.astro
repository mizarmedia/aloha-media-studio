---
// InvestmentContact - Price + Contact combined section
// Two-column: Package details on left, form on right

const includes = [
  'Strategy & planning',
  '6 studio sessions',
  'Full editing',
  'Thumbnails & show notes',
  'Branding & photography',
  'Published everywhere'
]
---

<section id="contact" class="py-24 md:py-32 bg-[var(--color-void)] relative overflow-hidden">
  <!-- Subtle gradient glow -->
  <div class="absolute inset-0 pointer-events-none">
    <div class="absolute top-1/2 left-1/4 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[400px] bg-[var(--color-coral)]/5 rounded-full blur-[100px]"></div>
  </div>

  <div class="max-w-6xl mx-auto px-6 relative z-10">
    <div class="grid lg:grid-cols-2 gap-12 lg:gap-16 items-start">

      <!-- Left Column - Package Details -->
      <div data-animate="fade-up">
        <h2 class="text-3xl md:text-4xl lg:text-5xl font-bold text-[var(--color-cream)] mb-8">
          The Investment
        </h2>

        <!-- Price Card -->
        <div class="bg-[var(--color-charcoal)] rounded-2xl p-8 border border-[var(--color-graphite)] mb-8" data-animate="scale-up">
          <div class="text-center mb-6">
            <p class="text-[var(--color-stone)] text-sm uppercase tracking-wider mb-2 line-through" data-agency-label>
              Agency Price: $15,000
            </p>
            <div class="flex items-start justify-center gap-1">
              <span class="text-[var(--color-mist)] text-2xl mt-2">$</span>
              <span
                class="text-5xl md:text-6xl font-bold text-[var(--color-cream)]"
                data-price-counter
                data-counter-start="15000"
                data-counter-end="4500"
              >15,000</span>
            </div>
            <p class="text-[var(--color-coral)] text-sm mt-3 font-medium">
              Full-service production. No hidden fees.
            </p>
          </div>

          <!-- What's Included -->
          <div class="border-t border-[var(--color-graphite)] pt-6">
            <p class="text-sm text-[var(--color-stone)] uppercase tracking-wider mb-4">What's Included</p>
            <ul class="space-y-3">
              {includes.map((item) => (
                <li class="flex items-center gap-3 text-[var(--color-mist)]">
                  <svg class="w-5 h-5 text-[var(--color-coral)] flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                  </svg>
                  <span class="text-sm">{item}</span>
                </li>
              ))}
            </ul>
          </div>
        </div>
      </div>

      <!-- Right Column - Contact Form -->
      <div data-animate="fade-up">
        <div class="bg-[var(--color-charcoal)]/50 backdrop-blur-sm rounded-2xl p-8 border border-[var(--color-graphite)]">
          <h3 class="text-2xl font-bold text-[var(--color-cream)] mb-2">
            Start Your Podcast
          </h3>
          <p class="text-[var(--color-mist)] mb-8">
            Tell us about your vision. We'll reach out within 24 hours.
          </p>

          <form
            action="https://formsubmit.co/media@alohapublishing.com"
            method="POST"
            class="space-y-5"
          >
            <!-- Honeypot -->
            <input type="text" name="_honey" style="display:none">
            <input type="hidden" name="_captcha" value="true">
            <input type="hidden" name="_form_loaded" id="form-loaded-time" value="">
            <input type="hidden" name="_next" value="https://alohamediastudio.com/?submitted=true">
            <input type="hidden" name="_subject" value="New Podcast Discovery Call Request">

            <!-- Name -->
            <div>
              <label for="name" class="block text-sm font-medium text-[var(--color-mist)] mb-2">
                Name
              </label>
              <input
                type="text"
                id="name"
                name="name"
                required
                class="w-full px-4 py-3 bg-[var(--color-void)] border border-[var(--color-graphite)] rounded-xl text-[var(--color-cream)] placeholder-[var(--color-stone)] focus:outline-none focus:border-[var(--color-coral)] transition-colors"
                placeholder="Your name"
              />
            </div>

            <!-- Email -->
            <div>
              <label for="email" class="block text-sm font-medium text-[var(--color-mist)] mb-2">
                Email
              </label>
              <input
                type="email"
                id="email"
                name="email"
                required
                class="w-full px-4 py-3 bg-[var(--color-void)] border border-[var(--color-graphite)] rounded-xl text-[var(--color-cream)] placeholder-[var(--color-stone)] focus:outline-none focus:border-[var(--color-coral)] transition-colors"
                placeholder="you@example.com"
              />
            </div>

            <!-- Podcast Topic -->
            <div>
              <label for="topic" class="block text-sm font-medium text-[var(--color-mist)] mb-2">
                What would your podcast be about?
              </label>
              <input
                type="text"
                id="topic"
                name="podcast_topic"
                class="w-full px-4 py-3 bg-[var(--color-void)] border border-[var(--color-graphite)] rounded-xl text-[var(--color-cream)] placeholder-[var(--color-stone)] focus:outline-none focus:border-[var(--color-coral)] transition-colors"
                placeholder="e.g., Real estate investing, Leadership coaching..."
              />
            </div>

            <!-- Submit -->
            <button
              type="submit"
              class="w-full inline-flex items-center justify-center gap-3 px-8 py-4 bg-[var(--color-coral)] text-[var(--color-void)] font-semibold text-lg rounded-full transition-all duration-300 hover:bg-[var(--color-coral-light)] hover:scale-[1.02] hover:shadow-2xl hover:shadow-[var(--color-coral)]/30"
              data-magnetic
            >
              Start Your Podcast
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
              </svg>
            </button>
          </form>

          <!-- Calendly alternative -->
          <div class="mt-6 pt-6 border-t border-[var(--color-graphite)] text-center space-y-2">
            <p class="text-sm text-[var(--color-stone)]">
              Prefer to schedule directly?
              <a href="https://calendly.com/aloha-studio/30min" target="_blank" rel="noopener noreferrer" class="text-[var(--color-coral)] hover:text-[var(--color-coral-light)] transition-colors ml-1">
                Book on Calendly
              </a>
            </p>
            <p class="text-sm text-[var(--color-stone)]">
              Need studio space instead?
              <a href="/studio" class="text-[var(--color-coral)] hover:text-[var(--color-coral-light)] transition-colors ml-1">
                Rent the studio
              </a>
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  // Spam protection: Time-based validation
  const MIN_SUBMISSION_TIME = 3000

  document.addEventListener('DOMContentLoaded', () => {
    const form = document.querySelector('#contact form') as HTMLFormElement
    const loadedTimeInput = document.getElementById('form-loaded-time') as HTMLInputElement

    if (!form || !loadedTimeInput) return

    const loadTime = Date.now()
    loadedTimeInput.value = loadTime.toString()

    form.addEventListener('submit', (e) => {
      const submitTime = Date.now()
      const elapsed = submitTime - loadTime

      if (elapsed < MIN_SUBMISSION_TIME) {
        e.preventDefault()
        alert('Please take a moment to fill out the form completely.')
        return false
      }
    })
  })
</script>
